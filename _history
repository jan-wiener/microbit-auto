{"entries":[{"timestamp":1749453687460,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n"],[-1,"radio.setGroup(124)\nradio.setFrequencyBand(52)\n\n\nbasic.forever(function() {\n\n    radio.sendString(\"L\")\n    basic.pause(20)\n})"]],"start1":0,"start2":0,"length1":126,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"pt-only\""],[1,",\n    \"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":279,"start2":279,"length1":11,"length2":42}]}]},{"timestamp":1749453886572,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"\nradio.setGroup(124)\nradio.setFrequencyBand(52)\n\n\nbasic.forever(function() {\n\n    radio.sendString(\"L\")\n    basic.pause(20)\n})"]],"start1":0,"start2":0,"length1":0,"length2":126}]}]},{"timestamp":1749454837523,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"\n\n"]],"start1":0,"start2":0,"length1":2,"length2":0}]}]},{"timestamp":1749454838892,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n\n"],[-1,"\n\nlet L: boolean = false\nlet R: boolean = false\nlet C: boolean = false\n\n\nfunction setSpeed(speed1: number, speed2: number) {\n    PCAmotor.MotorRun(PCAmotor.Motors.M1, speed1)\n    PCAmotor.MotorRun(PCAmotor.Motors.M4, speed2)\n}\n\nbasic.forever(function() {\n    \n    \n})\n\n\n\n\n"]],"start1":0,"start2":0,"length1":274,"length2":2}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," \"*\""],[-1,",\n        \"pxt-magicbit-pca9685\": \"github:microbit-cz/pxt-magicbit-pca9685#1.0.0\""],[0,"\n   "]],"start1":138,"start2":138,"length1":89,"length2":8}]}]},{"timestamp":1749455437451,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"se\n\n"],[-1,"type IRC = {\n    l: DigitalPin,\n    c: DigitalPin,\n    r: DigitalPin\n}\nconst IR: IRC = {\n    l: DigitalPin.P14,\n    c: DigitalPin.P15,\n    r: DigitalPin.P13\n}\n\npins.setPull(IR.l, PinPullMode.PullNone);\npins.setPull(IR.c, PinPullMode.PullNone);\npins.setPull(IR.r, PinPullMode.PullNone);\n\n\nlet recvString: string\n\nfunction setSpeed(speed1: number, speed2: number) {\n    PCAmotor.MotorRun(PCAmotor.Motors.M1, speed1)\n    PCAmotor.MotorRun(PCAmotor.Motors.M4, speed2)\n}\n\nlet pinL: number = 0\nlet pinR: number = 0\nlet pinC: number = 0\n\n\nbasic.forever(function() {\n    pinL = pins.digitalReadPin(IR.l)\n    pinC = pins.digitalReadPin(IR.c)\n    pinR = pins.digitalReadPin(IR.r)\n\n    switch (recvString) {\n        case \"L\":\n            console.log(\"L\")\n        case \"R\":\n            console.log(\"R\")\n        case \"C\":\n            console.log(\"C\")\n    }\n\n    \n})\n\n\nradio.onReceivedString(function(recv) {\n    recvString = recv\n})"],[1,"\nfunction setSpeed(speed1: number, speed2: number) {\n    PCAmotor.MotorRun(PCAmotor.Motors.M1, speed1)\n    PCAmotor.MotorRun(PCAmotor.Motors.M4, speed2)\n}\n\nbasic.forever(function() {\n    \n    \n})\n"],[0,"\n\n\n\n"]],"start1":70,"start2":70,"length1":927,"length2":204}]}]},{"timestamp":1749455973014,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,".P13\n}\n\n"],[-1,"\n"],[0,"pins.set"]],"start1":226,"start2":226,"length1":17,"length2":16},{"diffs":[[0," 0\n\n"],[-1,"let prefer: DigitalPin\n"],[0,"\nbas"]],"start1":601,"start2":601,"length1":31,"length2":8},{"diffs":[[0,"    "],[-1,"prefer = IR.l"],[1,"console.log(\"L\")"],[0,"\n   "]],"start1":797,"start2":797,"length1":21,"length2":24},{"diffs":[[0,"            "],[-1,"prefer = IR.r"],[1,"console.log(\"R\")"],[0,"\n        cas"]],"start1":836,"start2":836,"length1":37,"length2":40},{"diffs":[[0,"    "],[-1,"prefer = IR.r\n    }\n\n    if (pins.digitalReadPin(prefer)) {\n        setSpeed()\n    } else {\n        if (pinC) {\n            go(-255, -150)\n        } else if (pinL) {\n            go(0, -255)\n        } else if (pinR) {\n            go(-255, 0)\n        }"],[1,"console.log(\"C\")"],[0,"\n   "]],"start1":891,"start2":891,"length1":258,"length2":24}]}]},{"timestamp":1749456565861,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"3\n}\n"],[-1,"type speeds = {\n    speed1: number,\n    speed2: number\n}\n\nconst normalSpeeds: any = {\n    l: speeds = {speed1: 0, speed2: -255},\n}\n\ntype pref = {\n    pin: DigitalPin,\n    speed1: number,\n    speed2: number\n}\n"],[0,"\n\npi"]],"start1":229,"start2":229,"length1":216,"length2":8},{"diffs":[[0,"er = 0\n\n"],[-1,"\n"],[0,"let pref"]],"start1":598,"start2":598,"length1":17,"length2":16},{"diffs":[[0,"er: "],[-1,"pref = {pin: IR.c, speed1: 0, speed2: 0}"],[1,"DigitalPin"],[0,"\n\nba"]],"start1":614,"start2":614,"length1":48,"length2":18},{"diffs":[[0,") {\n"],[-1,"\n"],[0,"    "],[-1,"if ("],[1,"pinL = "],[0,"pins"]],"start1":653,"start2":653,"length1":17,"length2":19},{"diffs":[[0,"Pin("],[-1,"prefer.pin)) {\n        setSpeed(prefer.speed1, prefer.speed2)\n    } else {\n        if ("],[1,"IR.l)\n    pinC = "],[0,"pins"]],"start1":684,"start2":684,"length1":95,"length2":25},{"diffs":[[0,"R.c)"],[-1,") {"],[0,"\n    "],[-1,"        setSpeed(-255, -150)\n        } else if (pins.digitalReadPin(IR.l)) {\n            setSpeed(0, -255)\n        } else if (pins.digitalReadPin(IR.r)) {\n            setSpeed(-255, 0)"],[1,"pinR = pins.digitalReadPin(IR.r)\n\n    switch (recvString) {\n        case \"L\":\n            prefer = IR.l\n        case \"R\":"],[0,"\n   "]],"start1":726,"start2":726,"length1":200,"length2":134},{"diffs":[[0,"    "],[-1,"}\n"],[0,"    "],[-1,"}\n\n    \n})\n\n\nradio.onReceivedString(function(recv) {\n    switch (recv) {"],[1,"prefer = IR.r"],[0,"\n   "]],"start1":861,"start2":861,"length1":86,"length2":25},{"diffs":[[0,"r\n        case \""],[-1,"L"],[1,"C"],[0,"\":\n            p"]],"start1":881,"start2":881,"length1":33,"length2":33},{"diffs":[[0,"efer"],[-1,".pin"],[0," = IR."],[-1,"l\n "],[1,"r\n"],[0,"    "],[1,"}\n\n"],[0,"    "],[-1,"   prefer.speed1 = 0\n            prefer.speed2 = -255\n        case \"R\":\n            prefer.pin = IR.r\n            prefer.speed1 = -255\n            prefer.speed2 = 0\n        case \"C\":\n            prefer.pin = IR.r\n            prefer.speed1 = -255"],[1,"if (pins.digitalReadPin(prefer)) {\n        setSpeed()\n    } else {\n        if (pinC) {\n            go(-255, -150)\n        } else if (pinL) {\n            go(0, -255)\n        } else if (pinR) {\n            go(-255, 0)"],[0,"\n   "]],"start1":915,"start2":915,"length1":274,"length2":242},{"diffs":[[0,"    "],[1,"}\n"],[0,"    "],[-1,"prefer.speed2 = -150\n    }"],[1,"}\n\n    \n})\n\n\nradio.onReceivedString(function(recv) {\n    recvString = recv"],[0,"\n})\n"]],"start1":1158,"start2":1158,"length1":38,"length2":88}]}]},{"timestamp":1749457158847,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"radio.setGroup(124)\nradio.setFrequencyBand(52)"],[1,"\n\n"],[0,"\n\nle"]],"start1":0,"start2":0,"length1":50,"length2":6},{"diffs":[[0,"3\n}\n"],[-1,"\n\nconst normalSpeeds: any"],[1,"type speeds"],[0," = {"]],"start1":229,"start2":229,"length1":33,"length2":19},{"diffs":[[0,"    "],[-1,"l: {"],[0,"speed1: "],[-1,"0, speed2: -255},\n    r: {s"],[1,"number,\n    speed2: number\n}\n\nconst normalS"],[0,"peed"],[-1,"1: -255, speed2: 0},"],[1,"s: any = {"],[0,"\n    "],[-1,"c:"],[1,"l: speeds ="],[0," {sp"]],"start1":249,"start2":249,"length1":78,"length2":89},{"diffs":[[0,"d1: "],[-1,"-255"],[1,"0"],[0,", sp"]],"start1":340,"start2":340,"length1":12,"length2":9},{"diffs":[[0,"2: -"],[-1,"150}"],[1,"255},"],[0,"\n}\n\n"]],"start1":352,"start2":352,"length1":12,"length2":13},{"diffs":[[0,"peed"],[1,"1"],[0,": "],[-1,"{speed1: 0,"],[1,"number,\n   "],[0," spe"]],"start1":405,"start2":405,"length1":21,"length2":22},{"diffs":[[0,"d2: "],[-1,"0}"],[1,"number"],[0,"\n}\n\n"]],"start1":428,"start2":428,"length1":10,"length2":14},{"diffs":[[0,"ed2)\n}\n\n"],[1,"let pinL: number = 0\nlet pinR: number = 0\nlet pinC: number = 0\n"],[0,"\n\nlet pr"]],"start1":742,"start2":742,"length1":16,"length2":79},{"diffs":[[0,"pref = {"],[-1," "],[0,"pin: IR."]],"start1":827,"start2":827,"length1":17,"length2":16},{"diffs":[[0,"R.c,"],[-1," speed: {"],[0," spe"]],"start1":841,"start2":841,"length1":17,"length2":8},{"diffs":[[0,"peed2: 0"],[-1," }"],[0,"}\n\nbasic"]],"start1":858,"start2":858,"length1":18,"length2":16},{"diffs":[[0,"peed(prefer."],[-1,"speed."],[0,"speed1, pref"]],"start1":952,"start2":952,"length1":30,"length2":24},{"diffs":[[0,"fer."],[-1,"speed."],[0,"spee"]],"start1":975,"start2":975,"length1":14,"length2":8},{"diffs":[[0,"eed("],[-1,"normalSpeeds.c.speed1, normalSpeeds.c.speed2"],[1,"-255, -150"],[0,")\n  "]],"start1":1058,"start2":1058,"length1":52,"length2":18},{"diffs":[[0,"eed("],[-1,"normalSpeeds.l.speed1, normalSpeeds.l.speed2"],[1,"0, -255"],[0,")\n  "]],"start1":1139,"start2":1139,"length1":52,"length2":15},{"diffs":[[0,"eed("],[-1,"normalSpeeds.r.speed1, normalSpeeds.r.speed2"],[1,"-255, 0"],[0,")\n  "]],"start1":1217,"start2":1217,"length1":52,"length2":15},{"diffs":[[0,"peed"],[1,"1"],[0," = "],[-1,"normalSpeeds.l"],[1,"0\n            prefer.speed2 = -255"],[0,"\n   "]],"start1":1385,"start2":1385,"length1":25,"length2":46},{"diffs":[[0,"peed"],[1,"1"],[0," = "],[-1,"normalSpeeds.r"],[1,"-255\n            prefer.speed2 = 0"],[0,"\n   "]],"start1":1496,"start2":1496,"length1":25,"length2":46},{"diffs":[[0,"in = IR."],[-1,"c"],[1,"r"],[0,"\n       "]],"start1":1577,"start2":1577,"length1":17,"length2":17},{"diffs":[[0,"peed"],[1,"1"],[0," = "],[-1,"normalSpeeds.c"],[1,"-255\n            prefer.speed2 = -150"],[0,"\n   "]],"start1":1607,"start2":1607,"length1":25,"length2":49}]}]},{"timestamp":1750059180042,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"2: 0 }}\n"],[-1,"let "],[0,"\nbasic.f"]],"start1":853,"start2":853,"length1":20,"length2":16}]}]},{"timestamp":1750059276591,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"150}"],[-1,",\n    turnL: {speed1: 200, speed2: -150}"],[1,"\n}\n\ntype pref = {\n    pin: DigitalPin"],[0,",\n    "],[-1,"turnR"],[1,"speed"],[0,": {s"]],"start1":406,"start2":406,"length1":59,"length2":56},{"diffs":[[0,"d1: "],[-1,"-20"],[0,"0, s"]],"start1":465,"start2":465,"length1":11,"length2":8},{"diffs":[[0,"d2: "],[-1,"15"],[0,"0}\n}\n\n\n"],[-1,"\n\n"],[0,"pins"]],"start1":476,"start2":476,"length1":19,"length2":15},{"diffs":[[0,")\n}\n"],[-1,"let turn = \"C\"\n\n\n\nfunction turnFunc(direction:string) {\n    setSpeed(0,0)\n    basic.pause(1000)\n    setSpeed(-150,-75)\n    basic.pause(100)\n    setSpeed(direction == \"L\" ? normalSpeeds.turnL.speed1 : normalSpeeds.turnR.speed1, direction == \"L\" ? normalSpeeds.turnL.speed2 : 150)\n    basic.pause(300)\n    turn = \"C\"\n}"],[0,"\n\n\nl"]],"start1":789,"start2":789,"length1":324,"length2":8},{"diffs":[[0,"let "],[-1,"pinInfo = {c:0, l:0, r:0}"],[0,"\nbas"]],"start1":861,"start2":861,"length1":33,"length2":8},{"diffs":[[0,") {\n"],[1,"\n"],[0,"    "],[-1,"pinInfo = { c: pins.digitalReadPin(IR.c), l: pins.digitalReadPin(IR.l), r:pins.digitalReadPin(IR.r)}\n    if ((pinInfo.c || pinInfo.r || pinInfo.l) && turn != \"C\") {\n        turnFunc(turn"],[1,"if (pins.digitalReadPin(prefer.pin)) {\n        setSpeed(prefer.speed.speed1, prefer.speed.speed2"],[0,")\n  "]],"start1":889,"start2":889,"length1":198,"length2":109},{"diffs":[[0,"(pin"],[-1,"Info"],[1,"s.digitalReadPin(IR"],[0,".c)"],[1,")"],[0," {\n "]],"start1":1020,"start2":1020,"length1":15,"length2":31},{"diffs":[[0,"(pin"],[-1,"Info"],[1,"s.digitalReadPin(IR"],[0,".l)"],[1,")"],[0," {\n "]],"start1":1135,"start2":1135,"length1":15,"length2":31},{"diffs":[[0,"(pin"],[-1,"Info"],[1,"s.digitalReadPin(IR"],[0,".r)"],[1,")"],[0," {\n "]],"start1":1250,"start2":1250,"length1":15,"length2":31},{"diffs":[[0,"    "],[-1,"turn = \"L\"\n        case \"R\":\n            turn = \"R\"\n        case \"C\":\n            turn = \"C\""],[1,"prefer.pin = IR.l\n            prefer.speed = normalSpeeds.l\n        case \"R\":\n            prefer.pin = IR.r\n            prefer.speed = normalSpeeds.r\n        case \"C\":\n            prefer.pin = IR.c\n            prefer.speed = normalSpeeds.c"],[0,"\n   "]],"start1":1460,"start2":1460,"length1":100,"length2":247}]}]},{"timestamp":1750059874452,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"nd(52)\n\n"],[1,"let L: boolean = false\nlet R: boolean = false\nlet C: boolean = false\n"],[0,"\ntype IR"]],"start1":40,"start2":40,"length1":16,"length2":85},{"diffs":[[0,"  c: {speed1: -2"],[-1,"00"],[1,"55"],[0,", speed2: -100},"]],"start1":377,"start2":377,"length1":34,"length2":34},{"diffs":[[0,"eed2: -1"],[-1,"0"],[1,"5"],[0,"0},\n    "]],"start1":399,"start2":399,"length1":17,"length2":17},{"diffs":[[0,"one);\n\n\n"],[1,"let recvString: string\n\n"],[0,"function"]],"start1":617,"start2":617,"length1":16,"length2":40},{"diffs":[[0,"2 : "],[-1,"normalSpeeds.turnR.speed2"],[1,"150"],[0,")\n  "]],"start1":1073,"start2":1073,"length1":33,"length2":11},{"diffs":[[0,"\"C\"\n}\n\n\n"],[1,"let prefer: pref = { pin: IR.c, speed: { speed1: 0, speed2: 0 }}\n"],[0,"let pinI"]],"start1":1114,"start2":1114,"length1":16,"length2":81},{"diffs":[[0,"r)}\n"],[-1,"    console.log(pinInfo)\n"],[0,"    "]],"start1":1345,"start2":1345,"length1":33,"length2":8}]}]},{"timestamp":1750060391870,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"fo.c"],[-1," && !pinInfo.l && !pinInfo.r"],[0,") {\n"]],"start1":1355,"start2":1355,"length1":36,"length2":8},{"diffs":[[0,"     }\n    }"],[1,"\n\n    "],[0,"\n})\n\n\nradio."]],"start1":1631,"start2":1631,"length1":24,"length2":30}]}]},{"timestamp":1750060892812,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"(IR.r)}\n"],[1,"    console.log(pinInfo)\n"],[0,"    if ("]],"start1":1205,"start2":1205,"length1":16,"length2":41},{"diffs":[[0,"    "],[-1,"turn=recv"],[1,"switch (recv) {\n        case \"L\":\n            turn = \"L\"\n        case \"R\":\n            turn = \"R\"\n        case \"C\":\n            turn = \"C\"\n    }"],[0,"\n})\n"]],"start1":1717,"start2":1717,"length1":17,"length2":152}]}]},{"timestamp":1750061492609,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"urnFunc("],[1,"direction:string"],[0,") {\n    "]],"start1":738,"start2":738,"length1":16,"length2":32},{"diffs":[[0,"etSpeed("],[-1,"tur"],[1,"directio"],[0,"n == \"L\""]],"start1":855,"start2":855,"length1":19,"length2":24},{"diffs":[[0,"speed1, "],[-1,"tur"],[1,"directio"],[0,"n == \"L\""]],"start1":929,"start2":929,"length1":19,"length2":24},{"diffs":[[0,"urnFunc("],[1,"turn"],[0,")\n    } "]],"start1":1286,"start2":1286,"length1":16,"length2":20}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":288,"start2":288,"length1":52,"length2":8}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"},{"type":"added","filename":"main.blocks","value":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"}]}],"snapshots":[{"timestamp":1749453687459,"editorVersion":"7.0.61","text":{"main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"davidjenegr\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1749457291758,"editorVersion":"7.0.61","text":{"main.ts":"\n\n\n\nlet L: boolean = false\nlet R: boolean = false\nlet C: boolean = false\n\ntype IRC = {\n    l: DigitalPin,\n    c: DigitalPin,\n    r: DigitalPin\n}\nconst IR: IRC = {\n    l: DigitalPin.P14,\n    c: DigitalPin.P15,\n    r: DigitalPin.P13\n}\ntype speeds = {\n    speed1: number,\n    speed2: number\n}\n\nconst normalSpeeds: any = {\n    l: {speed1}\n}\n\ntype pref = {\n    pin: DigitalPin,\n    speed1: number,\n    speed2: number\n}\n\n\npins.setPull(IR.l, PinPullMode.PullNone);\npins.setPull(IR.c, PinPullMode.PullNone);\npins.setPull(IR.r, PinPullMode.PullNone);\n\n\nlet recvString: string\n\nfunction setSpeed(speed1: number, speed2: number) {\n    PCAmotor.MotorRun(PCAmotor.Motors.M1, speed1)\n    PCAmotor.MotorRun(PCAmotor.Motors.M4, speed2)\n}\n\nlet pinL: number = 0\nlet pinR: number = 0\nlet pinC: number = 0\n\n\nlet prefer: pref = {pin: IR.c, speed1: 0, speed2: 0}\n\nbasic.forever(function() {\n\n    if (pins.digitalReadPin(prefer.pin)) {\n        setSpeed(prefer.speed1, prefer.speed2)\n    } else {\n        if (pins.digitalReadPin(IR.c)) {\n            setSpeed(-255, -150)\n        } else if (pins.digitalReadPin(IR.l)) {\n            setSpeed(0, -255)\n        } else if (pins.digitalReadPin(IR.r)) {\n            setSpeed(-255, 0)\n        }\n    }\n\n    \n})\n\n\nradio.onReceivedString(function(recv) {\n    switch (recv) {\n        case \"L\":\n            prefer.pin = IR.l\n            prefer.speed1 = 0\n            prefer.speed2 = -255\n        case \"R\":\n            prefer.pin = IR.r\n            prefer.speed1 = -255\n            prefer.speed2 = 0\n        case \"C\":\n            prefer.pin = IR.r\n            prefer.speed1 = -255\n            prefer.speed2 = -150\n    }\n})\n\n\n\n","README.md":"","pxt.json":"{\n    \"name\": \"davidjenegr\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-magicbit-pca9685\": \"github:microbit-cz/pxt-magicbit-pca9685#1.0.0\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}},{"timestamp":1750059180042,"editorVersion":"7.0.61","text":{"main.ts":"radio.setGroup(124)\nradio.setFrequencyBand(52)\n\nlet L: boolean = false\nlet R: boolean = false\nlet C: boolean = false\n\ntype IRC = {\n    l: DigitalPin,\n    c: DigitalPin,\n    r: DigitalPin\n}\nconst IR: IRC = {\n    l: DigitalPin.P14,\n    c: DigitalPin.P15,\n    r: DigitalPin.P13\n}\n\n\nconst normalSpeeds: any = {\n    l: {speed1: 0, speed2: -255},\n    r: {speed1: -255, speed2: 0},\n    c: {speed1: -255, speed2: -150}\n}\n\ntype pref = {\n    pin: DigitalPin,\n    speed: {speed1: 0, speed2: 0}\n}\n\n\npins.setPull(IR.l, PinPullMode.PullNone);\npins.setPull(IR.c, PinPullMode.PullNone);\npins.setPull(IR.r, PinPullMode.PullNone);\n\n\nlet recvString: string\n\nfunction setSpeed(speed1: number, speed2: number) {\n    PCAmotor.MotorRun(PCAmotor.Motors.M1, speed1)\n    PCAmotor.MotorRun(PCAmotor.Motors.M4, speed2)\n}\n\n\n\nlet prefer: pref = { pin: IR.c, speed: { speed1: 0, speed2: 0 }}\n\nbasic.forever(function() {\n\n    if (pins.digitalReadPin(prefer.pin)) {\n        setSpeed(prefer.speed.speed1, prefer.speed.speed2)\n    } else {\n        if (pins.digitalReadPin(IR.c)) {\n            setSpeed(normalSpeeds.c.speed1, normalSpeeds.c.speed2)\n        } else if (pins.digitalReadPin(IR.l)) {\n            setSpeed(normalSpeeds.l.speed1, normalSpeeds.l.speed2)\n        } else if (pins.digitalReadPin(IR.r)) {\n            setSpeed(normalSpeeds.r.speed1, normalSpeeds.r.speed2)\n        }\n    }\n\n    \n})\n\n\nradio.onReceivedString(function(recv) {\n    switch (recv) {\n        case \"L\":\n            prefer.pin = IR.l\n            prefer.speed = normalSpeeds.l\n        case \"R\":\n            prefer.pin = IR.r\n            prefer.speed = normalSpeeds.r\n        case \"C\":\n            prefer.pin = IR.c\n            prefer.speed = normalSpeeds.c\n    }\n})\n\n\n\n","README.md":"","pxt.json":"{\n    \"name\": \"davidjenegr\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-magicbit-pca9685\": \"github:microbit-cz/pxt-magicbit-pca9685#1.0.0\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}},{"timestamp":1750061294330,"editorVersion":"7.0.61","text":{"main.ts":"radio.setGroup(124)\nradio.setFrequencyBand(52)\n\n\ntype IRC = {\n    l: DigitalPin,\n    c: DigitalPin,\n    r: DigitalPin\n}\nconst IR: IRC = {\n    l: DigitalPin.P14,\n    c: DigitalPin.P15,\n    r: DigitalPin.P13\n}\n\n\nconst normalSpeeds: any = {\n    l: {speed1: 0, speed2: -255},\n    r: {speed1: -255, speed2: 0},\n    c: {speed1: -200, speed2: -100},\n    turnL: {speed1: 200, speed2: -150},\n    turnR: {speed1: -200, speed2: 150}\n}\n\n\n\n\npins.setPull(IR.l, PinPullMode.PullNone);\npins.setPull(IR.c, PinPullMode.PullNone);\npins.setPull(IR.r, PinPullMode.PullNone);\n\n\nfunction setSpeed(speed1: number, speed2: number) {\n    PCAmotor.MotorRun(PCAmotor.Motors.M1, speed1)\n    PCAmotor.MotorRun(PCAmotor.Motors.M4, speed2)\n}\nlet turn = \"C\"\n\n\n\nfunction turnFunc(direction:string) {\n    setSpeed(0,0)\n    basic.pause(1000)\n    setSpeed(-150,-75)\n    basic.pause(100)\n    setSpeed(direction == \"L\" ? normalSpeeds.turnL.speed1 : normalSpeeds.turnR.speed1, direction == \"L\" ? normalSpeeds.turnL.speed2 : normalSpeeds.turnR.speed2)\n    basic.pause(300)\n    turn = \"C\"\n}\n\n\nlet pinInfo = {c:0, l:0, r:0}\nbasic.forever(function() {\n    pinInfo = { c: pins.digitalReadPin(IR.c), l: pins.digitalReadPin(IR.l), r:pins.digitalReadPin(IR.r)}\n    console.log(pinInfo)\n    if ((pinInfo.c || pinInfo.r || pinInfo.l) && turn != \"C\") {\n        turnFunc(turn)\n    } else {\n        if (pinInfo.c && !pinInfo.l && !pinInfo.r) {\n            setSpeed(normalSpeeds.c.speed1, normalSpeeds.c.speed2)\n        } else if (pinInfo.l) {\n            setSpeed(normalSpeeds.l.speed1, normalSpeeds.l.speed2)\n        } else if (pinInfo.r) {\n            setSpeed(normalSpeeds.r.speed1, normalSpeeds.r.speed2)\n        }\n    }\n})\n\n\nradio.onReceivedString(function(recv) {\n    switch (recv) {\n        case \"L\":\n            turn = \"L\"\n        case \"R\":\n            turn = \"R\"\n        case \"C\":\n            turn = \"C\"\n    }\n})\n\n\n\n","README.md":"","pxt.json":"{\n    \"name\": \"davidjenegr\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-magicbit-pca9685\": \"github:microbit-cz/pxt-magicbit-pca9685#1.0.0\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}}],"shares":[{"id":"66035-43552-47963-63064","timestamp":1750059180042}],"lastSaveTime":1750062019908}